language: groovy
jdk:
- openjdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -K $encrypted_6bc10e2af68f_key -iv $encrypted_6bc10e2af68f_iv -in .travis/secring.gpg.enc -out .travis/secring.gpg -d
install:
- "./gradlew assemble -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
before_script:
- chmod +x gradlew
script:
- "./gradlew check -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
deploy:
  skip_cleanup: true
  provider: script
  script: bash .travis/deploy.sh
  on:
    tags: true
after_deploy:
- "./gradlew closeAndReleaseRepository -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
- shred -u .travis/secring.gpg
env:
  global:
  - secure: hW9cqRvTV9Qhfk2DPnFjFjfNAKonFizmCTxKNKOyKNUWxJ3nQhXKcheOOc9kDbDRGokH2luTuSterbDv+g38tLyuWwFg3qUkByzjjd08x5B6mIN1Kf5hIE8eaSgWF+aIYDsErJy8sfaKf87b8c+ZENUP5x55ni5TpUa/tYzd+oDI6ClgNAOddcV5WGnmDvLUTMKNo/hVCOcLWJLnNlzGqt3M+oYYWFSVoo14ZuufBt/ijuIAXJ9PRvrEjnxZ01/gawT/7fMQgFArYugzUqVTrEfMfG/9/MVxt/Llsdv8e/U8jyEYbmT6N/nmUXmrTsHiozqyqeQIaKdEvukvHs/cMewhQN/Zn31oE37ul78vzAENeLyDpYUAiJJKPNxT5N+BX4qQEDjcTK5/wFKaM12xDUTS2hIRWmHzy9kAWs2DIRptLOKwpY2cew5aybc/MjBebz3kfTAur80UpSW3EURzL6XIKNxKxyavn1oAZ4F6zJU4oEBoxEMGqJtIY7cVEQzGb+hjE1wq/g41kIe+SwQTexOGvGkNuySaXemuTgE3Rmd6YNJ1lBnevFf0RthG2QysHLhb8dN3kWuAI4sLvSPhjkJQfFcllO7mNjX5hR6+fP6Qic2wrXcy00lmzPXwvAPc63cLwN1zz70WUhk+QA5k+G1Cv/A5euDIvDhAGiZZ+pY=
  - secure: AHb8NO5n1J63/REvAo2EPTcCupHa263E95naFKMjqz4qUQEQtWgH8DuoR3G37fd01/zl36JrP031Pg3XdXTVuhx4pmAhqnQIZWsNfhspJKW3UeJA/l9rbVFozIXPhlwBlVYbdmBR8pbS+8RYT5J21opH559dlCywrJOYBcfl0u/oY8zv7Iu62Y/oqREABSkg4CbxaEO0tnvjc1Pv4Qthx3OshbakTlexUDPiBY6bitU97gVrWlAdI+ec5ApEF/amx58Coke7wD3LaN4cy048+fE7qa4qRItYre6diaeXK3bTJ/IDqYloce2GJKDIGbrJURziA7NqHaE15ZeukP8hNT3iK5oFpi5GWAvGPkmysP3QpFA+OfAPf5tCy0X8pxKoeDi5p3tWmdckQ59kVV99mMeVyllK8jenO7ocdHu7F+yVUleIIMrw3lnK91TeXQMSWSHKsM7lvOsSb57sjX/iZ0nHmFK9FA6n9LbsA+DyVDI2ar2BmnHXzsjkgkRcxwh5Lx14FBQMojzyq44xGStEPdalgtpmTR154qQnwS1V+OVTLAVG04dnBABfPDyERV3NUJSwlsYNpWVZWyzWh6DVr64SJFmaSVwfDeXfN0pqoMmvxYy/fUqCDXIhdBZg7ZQqpTjxM9o3ICkLZvydpvgFHJEmR3WTi15nNw16g9p2V60=
  - secure: dnF3QtRX3cazcCevtkZl/LwXkHcNFcBP21GSMGWLMHt/qem/pMSkGgqN37L6KdnRyrSpgemGIHSAJ5R2QPUyGffVX1kSc/ZCJ3oHGjNQgaTVm73LWNrG65TWLeDXTSis58RIDfuTNPogYBXxENe5ZA2kikvhZDH5Qhx5aHEew5nPylSZTehIfU/J/DEORbg5eemUSTX7YzA8B89FcRN38NGklm/WCjfgxEzo3dGKg52aihFAqJwz9m3b/zjdDmW+Hx6Z8DfvrIowOoAPEOyHr/IVaEBZxZ7C1tPso0ZGCFFvJ1zrf2yrHtvvcjUO39USAk5ligfFhVdxYEs4e5F3mwVHk6fuUSIs0v2kDv/kH9inTWyh9vNQcDs9pYe6tKPy3qRGWM+FIU4RTn/xazr0zA0GEdlNatQxMEfpFwjGOVJRrQ7ge22NX5hVwMlzzgdRPPzMLFlGp2z/+gYdHdz6Ragd521E9NabEV5EqHJ0EXFnvT8ZlpvtnC0aTlIGhdFP0KC2EJ9LGRhdvJ17Pivy21D2TK+7e1+l89L1gCwX/gBdsvzE8SNm/1YoW0FWqUrs8YIGjZ8GRR0c7LDbz03UlKG0EMqI5FyGH4MV9dBqbTS47XC9bxzKzyf+OwTCe5KcxoUJiW3WsAs8jdFrcwXUGZD9+kskLrbIgRvDiJF4F3s=
  - secure: GEXXCTbAtEKy2FiSeJU4tdAMKiSreD/7fBEGyi1pyyirXTwUHN6x+OwJjV2Nlix9roPEFB0ZplFrDfVne/64rofbyxUSfVz2iNSG113vPicnfvPF5CFK8Y9Oa/8w06PDGqyAuHKMg1XjWRTEL91Lkka3ezRFM3AkNim/dctJ54KcgGUdwN32J3VrILeGZ/E8YeitPeffl33/Z9xqUxERSSVFbhiY/BwCjkjhD6UNlTqZ5apepq3PyHin551nm1AHrsAchbpxLSNTanvy/sbsz42ErZenZjHrl/3O6y7FiqrkM0GeqQvZd++09Rj7loABDl/RYZ34wKvot7q3gzUIoU5O5g7F+I43Hz2Aup0otIXTWlZqsv/iTdLQfyI6FkTOA321y0TpCG4thNOWYN52QWOXHhG8G2PekAryEfvL1AKLLOWn1+ccXXUkbuXqtR67pvKo8T1CABPs0tkNBuAvfvGpbTwJM0kZO/p3lqNebtK7H1fgx1Q3TT72GPwZUMhmOmJ8Ny7qq19TqPfctIbfTkOV5SSaOa9v4QbPwWN2bvz1kfk8l41kVvux3u+cygFs7imPiKYZRc/jwQ/hzX7GZ2RgJR/CDAH5OYwpv6E6RnAO3v2VZ3bqO0LUxPgr2PrMZ+8CQEWBtUzRgqAF3nR7SozzfYE8WlTQBpzXcTZdoS0=
